(function(F,C,A){var H=F.requestAnimationFrame||F.webkitRequestAnimationFrame||F.mozRequestAnimationFrame||F.oRequestAnimationFrame||F.msRequestAnimationFrame||function(I){F.setTimeout(I,1000/60)};var G=(function(){var N={};var I=C.createElement("div").style;var M=(function(){var Q=["t","webkitT","MozT","msT","OT"],R,P=0,O=Q.length;for(;P<O;P++){R=Q[P]+"ransform";if(R in I){return Q[P].substr(0,Q[P].length-1)}}return false})();function K(O){if(M===false){return false}if(M===""){return O}return M+O.charAt(0).toUpperCase()+O.substr(1)}N.getTime=Date.now||function L(){return new Date().getTime()};N.extend=function(O,Q){for(var P in Q){O[P]=Q[P]}};N.addEvent=function(Q,R,O,P){Q.addEventListener(R,O,!!P)};N.removeEvent=function(Q,R,O,P){Q.removeEventListener(R,O,!!P)};N.prefixPointerEvent=function(O){return F.MSPointerEvent?"MSPointer"+O.charAt(9).toUpperCase()+O.substr(10):O};N.momentum=function(O,V,X,Q,T,W){var S=O-V,R=A.abs(S)/X,U,P;W=W===undefined?0.0006:W;U=O+(R*R)/(2*W)*(S<0?-1:1);P=R/W;if(U<Q){U=T?Q-(T/2.5*(R/8)):Q;S=A.abs(U-O);P=S/R}else{if(U>0){U=T?T/2.5*(R/8):0;S=A.abs(O)+U;P=S/R}}return{destination:A.round(U),duration:P}};var J=K("transform");N.extend(N,{hasTransform:J!==false,hasPerspective:K("perspective") in I,hasTouch:"ontouchstart" in F,hasPointer:F.PointerEvent||F.MSPointerEvent,hasTransition:K("transition") in I});N.isBadAndroid=/Android /.test(F.navigator.appVersion)&&!(/Chrome\/\d/.test(F.navigator.appVersion));N.extend(N.style={},{transform:J,transitionTimingFunction:K("transitionTimingFunction"),transitionDuration:K("transitionDuration"),transitionDelay:K("transitionDelay"),transformOrigin:K("transformOrigin")});N.hasClass=function(P,O){var Q=new RegExp("(^|\\s)"+O+"(\\s|$)");return Q.test(P.className)};N.addClass=function(Q,P){if(N.hasClass(Q,P)){return}var O=Q.className.split(" ");O.push(P);Q.className=O.join(" ")};N.removeClass=function(P,O){if(!N.hasClass(P,O)){return}var Q=new RegExp("(^|\\s)"+O+"(\\s|$)","g");P.className=P.className.replace(Q," ")};N.offset=function(P){var Q=-P.offsetLeft,O=-P.offsetTop;while(P=P.offsetParent){Q-=P.offsetLeft;O-=P.offsetTop}return{left:Q,top:O}};N.preventDefaultException=function(O,P){for(var Q in P){if(P[Q].test(O[Q])){return true}}return false};N.extend(N.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});N.extend(N.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(O){return O*(2-O)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(O){return A.sqrt(1-(--O*O))}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(P){var O=4;return(P=P-1)*P*((O+1)*P+O)+1}},bounce:{style:"",fn:function(O){if((O/=1)<(1/2.75)){return 7.5625*O*O}else{if(O<(2/2.75)){return 7.5625*(O-=(1.5/2.75))*O+0.75}else{if(O<(2.5/2.75)){return 7.5625*(O-=(2.25/2.75))*O+0.9375}else{return 7.5625*(O-=(2.625/2.75))*O+0.984375}}}}},elastic:{style:"",fn:function(Q){var O=0.22,P=0.4;if(Q===0){return 0}if(Q==1){return 1}return(P*A.pow(2,-10*Q)*A.sin((Q-O/4)*(2*A.PI)/O)+1)}}});N.tap=function(Q,P){var O=C.createEvent("Event");O.initEvent(P,true,true);O.pageX=Q.pageX;O.pageY=Q.pageY;Q.target.dispatchEvent(O)};N.click=function(Q){var P=Q.target,O;if(!(/(SELECT|INPUT|TEXTAREA)/i).test(P.tagName)){O=C.createEvent("MouseEvents");O.initMouseEvent("click",true,true,Q.view,1,P.screenX,P.screenY,P.clientX,P.clientY,Q.ctrlKey,Q.altKey,Q.shiftKey,Q.metaKey,0,null);O._constructed=true;P.dispatchEvent(O)}};return N})();function B(I,J){this.wrapper=typeof I=="string"?C.querySelector(I):I;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeScrollbars:true,mouseWheelSpeed:20,snapThreshold:0.334,startX:0,startY:0,scrollY:true,directionLockThreshold:5,momentum:true,bounce:true,bounceTime:600,bounceEasing:"",preventDefault:true,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:true,useTransition:true,useTransform:true};for(var K in J){this.options[K]=J[K]}this.translateZ=this.options.HWCompositing&&G.hasPerspective?" translateZ(0)":"";this.options.useTransition=G.hasTransition&&this.options.useTransition;this.options.useTransform=G.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===true?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=="vertical"?false:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=="horizontal"?false:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=="string"?G.ease[this.options.bounceEasing]||G.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;if(this.options.tap===true){this.options.tap="tap"}if(this.options.shrinkScrollbars=="scale"){this.options.useTransition=false}this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}B.prototype={version:"5.1.3",_init:function(){this._initEvents();if(this.options.scrollbars||this.options.indicators){this._initIndicators()}if(this.options.mouseWheel){this._initWheel()}if(this.options.snap){this._initSnap()}if(this.options.keyBindings){this._initKeys()}},destroy:function(){this._initEvents(true);this._execEvent("destroy")},_transitionEnd:function(I){if(I.target!=this.scroller||!this.isInTransition){return}this._transitionTime();if(!this.resetPosition(this.options.bounceTime)){this.isInTransition=false;this._execEvent("scrollEnd")}},_start:function(J){if(G.eventType[J.type]!=1){if(J.button!==0){return}}if(!this.enabled||(this.initiated&&G.eventType[J.type]!==this.initiated)){return}if(this.options.preventDefault&&!G.isBadAndroid&&!G.preventDefaultException(J.target,this.options.preventDefaultException)){J.preventDefault()}var K=J.touches?J.touches[0]:J,I;this.initiated=G.eventType[J.type];this.moved=false;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.startTime=G.getTime();if(this.options.useTransition&&this.isInTransition){this.isInTransition=false;I=this.getComputedPosition();this._translate(A.round(I.x),A.round(I.y));this._execEvent("scrollEnd")}else{if(!this.options.useTransition&&this.isAnimating){this.isAnimating=false;this._execEvent("scrollEnd")}}this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=K.pageX;this.pointY=K.pageY;this._execEvent("beforeScrollStart")},_move:function(N){if(!this.enabled||G.eventType[N.type]!==this.initiated){return}if(this.options.preventDefault){N.preventDefault()}var O=N.touches?N.touches[0]:N,K=O.pageX-this.pointX,Q=O.pageY-this.pointY,P=G.getTime(),J,L,M,I;this.pointX=O.pageX;this.pointY=O.pageY;this.distX+=K;this.distY+=Q;M=A.abs(this.distX);I=A.abs(this.distY);if(P-this.endTime>300&&(M<10&&I<10)){return}if(!this.directionLocked&&!this.options.freeScroll){if(M>I+this.options.directionLockThreshold){this.directionLocked="h"}else{if(I>=M+this.options.directionLockThreshold){this.directionLocked="v"}else{this.directionLocked="n"}}}if(this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical"){N.preventDefault()}else{if(this.options.eventPassthrough=="horizontal"){this.initiated=false;return}}Q=0}else{if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal"){N.preventDefault()}else{if(this.options.eventPassthrough=="vertical"){this.initiated=false;return}}K=0}}K=this.hasHorizontalScroll?K:0;Q=this.hasVerticalScroll?Q:0;J=this.x+K;L=this.y+Q;if(J>0||J<this.maxScrollX){J=this.options.bounce?this.x+K/3:J>0?0:this.maxScrollX}if(L>0||L<this.maxScrollY){L=this.options.bounce?this.y+Q/3:L>0?0:this.maxScrollY}this.directionX=K>0?-1:K<0?1:0;this.directionY=Q>0?-1:Q<0?1:0;if(!this.moved){this._execEvent("scrollStart")}this.moved=true;this._translate(J,L);if(P-this.startTime>300){this.startTime=P;this.startX=this.x;this.startY=this.y}},_end:function(O){if(!this.enabled||G.eventType[O.type]!==this.initiated){return}if(this.options.preventDefault&&!G.preventDefaultException(O.target,this.options.preventDefaultException)){O.preventDefault()}var P=O.changedTouches?O.changedTouches[0]:O,I,J,T=G.getTime()-this.startTime,S=A.round(this.x),M=A.round(this.y),K=A.abs(S-this.startX),N=A.abs(M-this.startY),R=0,L="";this.isInTransition=0;this.initiated=0;this.endTime=G.getTime();if(this.resetPosition(this.options.bounceTime)){return}this.scrollTo(S,M);if(!this.moved){if(this.options.tap){G.tap(O,this.options.tap)}if(this.options.click){G.click(O)}this._execEvent("scrollCancel");return}if(this._events.flick&&T<200&&K<100&&N<100){this._execEvent("flick");return}if(this.options.momentum&&T<300){I=this.hasHorizontalScroll?G.momentum(this.x,this.startX,T,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:S,duration:0};J=this.hasVerticalScroll?G.momentum(this.y,this.startY,T,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:M,duration:0};S=I.destination;M=J.destination;R=A.max(I.duration,J.duration);this.isInTransition=1}if(this.options.snap){var Q=this._nearestSnap(S,M);this.currentPage=Q;R=this.options.snapSpeed||A.max(A.max(A.min(A.abs(S-Q.x),1000),A.min(A.abs(M-Q.y),1000)),300);S=Q.x;M=Q.y;this.directionX=0;this.directionY=0;L=this.options.bounceEasing}if(S!=this.x||M!=this.y){if(S>0||S<this.maxScrollX||M>0||M<this.maxScrollY){L=G.ease.quadratic}this.scrollTo(S,M,R,L);return}this._execEvent("scrollEnd")},_resize:function(){var I=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){I.refresh()},this.options.resizePolling)},resetPosition:function(K){var I=this.x,J=this.y;K=K||0;if(!this.hasHorizontalScroll||this.x>0){I=0}else{if(this.x<this.maxScrollX){I=this.maxScrollX}}if(!this.hasVerticalScroll||this.y>0){J=0}else{if(this.y<this.maxScrollY){J=this.maxScrollY}}if(I==this.x&&J==this.y){return false}this.scrollTo(I,J,K,this.options.bounceEasing);return true},disable:function(){this.enabled=false},enable:function(){this.enabled=true},refresh:function(){var I=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;if(!this.hasHorizontalScroll){this.maxScrollX=0;this.scrollerWidth=this.wrapperWidth}if(!this.hasVerticalScroll){this.maxScrollY=0;this.scrollerHeight=this.wrapperHeight}this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=G.offset(this.wrapper);this._execEvent("refresh");this.resetPosition()},on:function(J,I){if(!this._events[J]){this._events[J]=[]}this._events[J].push(I)},off:function(J,I){if(!this._events[J]){return}var K=this._events[J].indexOf(I);if(K>-1){this._events[J].splice(K,1)}},_execEvent:function(I){if(!this._events[I]){return}var J=0,K=this._events[I].length;if(!K){return}for(;J<K;J++){this._events[I][J].apply(this,[].slice.call(arguments,1))}},scrollBy:function(J,K,L,I){J=this.x+J;K=this.y+K;L=L||0;this.scrollTo(J,K,L,I)},scrollTo:function(J,K,L,I){I=I||G.ease.circular;this.isInTransition=this.options.useTransition&&L>0;if(!L||(this.options.useTransition&&I.style)){this._transitionTimingFunction(I.style);this._transitionTime(L);this._translate(J,K)}else{this._animate(J,K,L,I.fn)}},scrollToElement:function(K,M,N,I,J){K=K.nodeType?K:this.scroller.querySelector(K);if(!K){return}var L=G.offset(K);L.left-=this.wrapperOffset.left;L.top-=this.wrapperOffset.top;if(N===true){N=A.round(K.offsetWidth/2-this.wrapper.offsetWidth/2)}if(I===true){I=A.round(K.offsetHeight/2-this.wrapper.offsetHeight/2)}L.left-=N||0;L.top-=I||0;L.left=L.left>0?0:L.left<this.maxScrollX?this.maxScrollX:L.left;L.top=L.top>0?0:L.top<this.maxScrollY?this.maxScrollY:L.top;M=M===undefined||M===null||M==="auto"?A.max(A.abs(this.x-L.left),A.abs(this.y-L.top)):M;this.scrollTo(L.left,L.top,M,J)},_transitionTime:function(J){J=J||0;this.scrollerStyle[G.style.transitionDuration]=J+"ms";if(!J&&G.isBadAndroid){this.scrollerStyle[G.style.transitionDuration]="0.001s"}if(this.indicators){for(var I=this.indicators.length;I--;){this.indicators[I].transitionTime(J)}}},_transitionTimingFunction:function(I){this.scrollerStyle[G.style.transitionTimingFunction]=I;if(this.indicators){for(var J=this.indicators.length;J--;){this.indicators[J].transitionTimingFunction(I)}}},_translate:function(I,J){if(this.options.useTransform){this.scrollerStyle[G.style.transform]="translate("+I+"px,"+J+"px)"+this.translateZ}else{I=A.round(I);J=A.round(J);this.scrollerStyle.left=I+"px";this.scrollerStyle.top=J+"px"}this.x=I;this.y=J;if(this.indicators){for(var K=this.indicators.length;K--;){this.indicators[K].updatePosition()}}},_initEvents:function(J){var I=J?G.removeEvent:G.addEvent,K=this.options.bindToWrapper?this.wrapper:F;I(F,"orientationchange",this);I(F,"resize",this);if(this.options.click){I(this.wrapper,"click",this,true)}if(!this.options.disableMouse){I(this.wrapper,"mousedown",this);I(K,"mousemove",this);I(K,"mousecancel",this);I(K,"mouseup",this)}if(G.hasPointer&&!this.options.disablePointer){I(this.wrapper,G.prefixPointerEvent("pointerdown"),this);I(K,G.prefixPointerEvent("pointermove"),this);I(K,G.prefixPointerEvent("pointercancel"),this);I(K,G.prefixPointerEvent("pointerup"),this)}if(G.hasTouch&&!this.options.disableTouch){I(this.wrapper,"touchstart",this);I(K,"touchmove",this);I(K,"touchcancel",this);I(K,"touchend",this)}I(this.scroller,"transitionend",this);I(this.scroller,"webkitTransitionEnd",this);I(this.scroller,"oTransitionEnd",this);I(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var K=F.getComputedStyle(this.scroller,null),I,J;if(this.options.useTransform){K=K[G.style.transform].split(")")[0].split(", ");I=+(K[12]||K[4]);J=+(K[13]||K[5])}else{I=+K.left.replace(/[^-\d.]/g,"");J=+K.top.replace(/[^-\d.]/g,"")}return{x:I,y:J}},_initIndicators:function(){var I=this.options.interactiveScrollbars,M=typeof this.options.scrollbars!="string",K=[],J;var N=this;this.indicators=[];if(this.options.scrollbars){if(this.options.scrollY){J={el:E("v",I,this.options.scrollbars),interactive:I,defaultScrollbars:true,customStyle:M,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:false};this.wrapper.appendChild(J.el);K.push(J)}if(this.options.scrollX){J={el:E("h",I,this.options.scrollbars),interactive:I,defaultScrollbars:true,customStyle:M,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:false};this.wrapper.appendChild(J.el);K.push(J)}}if(this.options.indicators){K=K.concat(this.options.indicators)}for(var L=K.length;L--;){this.indicators.push(new D(this,K[L]))}function O(P){for(var Q=N.indicators.length;Q--;){P.call(N.indicators[Q])}}if(this.options.fadeScrollbars){this.on("scrollEnd",function(){O(function(){this.fade()})});this.on("scrollCancel",function(){O(function(){this.fade()})});this.on("scrollStart",function(){O(function(){this.fade(1)})});this.on("beforeScrollStart",function(){O(function(){this.fade(1,true)})})}this.on("refresh",function(){O(function(){this.refresh()})});this.on("destroy",function(){O(function(){this.destroy()});delete this.indicators})},_initWheel:function(){G.addEvent(this.wrapper,"wheel",this);G.addEvent(this.wrapper,"mousewheel",this);G.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){G.removeEvent(this.wrapper,"wheel",this);G.removeEvent(this.wrapper,"mousewheel",this);G.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(N){if(!this.enabled){return}N.preventDefault();N.stopPropagation();var L,J,I,M,K=this;if(this.wheelTimeout===undefined){K._execEvent("scrollStart")}clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){K._execEvent("scrollEnd");K.wheelTimeout=undefined},400);if("deltaX" in N){if(N.deltaMode===1){L=-N.deltaX*this.options.mouseWheelSpeed;J=-N.deltaY*this.options.mouseWheelSpeed}else{L=-N.deltaX;J=-N.deltaY}}else{if("wheelDeltaX" in N){L=N.wheelDeltaX/120*this.options.mouseWheelSpeed;J=N.wheelDeltaY/120*this.options.mouseWheelSpeed}else{if("wheelDelta" in N){L=J=N.wheelDelta/120*this.options.mouseWheelSpeed}else{if("detail" in N){L=J=-N.detail/3*this.options.mouseWheelSpeed}else{return}}}}L*=this.options.invertWheelDirection;J*=this.options.invertWheelDirection;if(!this.hasVerticalScroll){L=J;J=0}if(this.options.snap){I=this.currentPage.pageX;M=this.currentPage.pageY;if(L>0){I--}else{if(L<0){I++}}if(J>0){M--}else{if(J<0){M++}}this.goToPage(I,M);return}I=this.x+A.round(this.hasHorizontalScroll?L:0);M=this.y+A.round(this.hasVerticalScroll?J:0);if(I>0){I=0}else{if(I<this.maxScrollX){I=this.maxScrollX}}if(M>0){M=0}else{if(M<this.maxScrollY){M=this.maxScrollY}}this.scrollTo(I,M,0)},_initSnap:function(){this.currentPage={};if(typeof this.options.snap=="string"){this.options.snap=this.scroller.querySelectorAll(this.options.snap)}this.on("refresh",function(){var I=0,J,K=0,L,P,S,M=0,N,Q=this.options.snapStepX||this.wrapperWidth,R=this.options.snapStepY||this.wrapperHeight,O;this.pages=[];if(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight){return}if(this.options.snap===true){P=A.round(Q/2);S=A.round(R/2);while(M>-this.scrollerWidth){this.pages[I]=[];J=0;N=0;while(N>-this.scrollerHeight){this.pages[I][J]={x:A.max(M,this.maxScrollX),y:A.max(N,this.maxScrollY),width:Q,height:R,cx:M-P,cy:N-S};N-=R;J++}M-=Q;I++}}else{O=this.options.snap;J=O.length;L=-1;for(;I<J;I++){if(I===0||O[I].offsetLeft<=O[I-1].offsetLeft){K=0;L++}if(!this.pages[K]){this.pages[K]=[]}M=A.max(-O[I].offsetLeft,this.maxScrollX);N=A.max(-O[I].offsetTop,this.maxScrollY);P=M-A.round(O[I].offsetWidth/2);S=N-A.round(O[I].offsetHeight/2);this.pages[K][L]={x:M,y:N,width:O[I].offsetWidth,height:O[I].offsetHeight,cx:P,cy:S};if(M>this.maxScrollX){K++}}}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);if(this.options.snapThreshold%1===0){this.snapThresholdX=this.options.snapThreshold;this.snapThresholdY=this.options.snapThreshold}else{this.snapThresholdX=A.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold);this.snapThresholdY=A.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold)}});this.on("flick",function(){var I=this.options.snapSpeed||A.max(A.max(A.min(A.abs(this.x-this.startX),1000),A.min(A.abs(this.y-this.startY),1000)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,I)})},_nearestSnap:function(J,K){if(!this.pages.length){return{x:0,y:0,pageX:0,pageY:0}}var L=0,M=this.pages.length,I=0;if(A.abs(J-this.absStartX)<this.snapThresholdX&&A.abs(K-this.absStartY)<this.snapThresholdY){return this.currentPage}if(J>0){J=0}else{if(J<this.maxScrollX){J=this.maxScrollX}}if(K>0){K=0}else{if(K<this.maxScrollY){K=this.maxScrollY}}for(;L<M;L++){if(J>=this.pages[L][0].cx){J=this.pages[L][0].x;break}}M=this.pages[L].length;for(;I<M;I++){if(K>=this.pages[0][I].cy){K=this.pages[0][I].y;break}}if(L==this.currentPage.pageX){L+=this.directionX;if(L<0){L=0}else{if(L>=this.pages.length){L=this.pages.length-1}}J=this.pages[L][0].x}if(I==this.currentPage.pageY){I+=this.directionY;if(I<0){I=0}else{if(I>=this.pages[0].length){I=this.pages[0].length-1}}K=this.pages[0][I].y}return{x:J,y:K,pageX:L,pageY:I}},goToPage:function(J,K,M,I){I=I||this.options.bounceEasing;if(J>=this.pages.length){J=this.pages.length-1}else{if(J<0){J=0}}if(K>=this.pages[J].length){K=this.pages[J].length-1}else{if(K<0){K=0}}var N=this.pages[J][K].x,L=this.pages[J][K].y;M=M===undefined?this.options.snapSpeed||A.max(A.max(A.min(A.abs(N-this.x),1000),A.min(A.abs(L-this.y),1000)),300):M;this.currentPage={x:N,y:L,pageX:J,pageY:K};this.scrollTo(N,L,M,I)},next:function(K,I){var L=this.currentPage.pageX,J=this.currentPage.pageY;L++;if(L>=this.pages.length&&this.hasVerticalScroll){L=0;J++}this.goToPage(L,J,K,I)},prev:function(K,I){var L=this.currentPage.pageX,J=this.currentPage.pageY;L--;if(L<0&&this.hasVerticalScroll){L=0;J--}this.goToPage(L,J,K,I)},_initKeys:function(K){var I={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};var J;if(typeof this.options.keyBindings=="object"){for(J in this.options.keyBindings){if(typeof this.options.keyBindings[J]=="string"){this.options.keyBindings[J]=this.options.keyBindings[J].toUpperCase().charCodeAt(0)}}}else{this.options.keyBindings={}}for(J in I){this.options.keyBindings[J]=this.options.keyBindings[J]||I[J]}G.addEvent(F,"keydown",this);this.on("destroy",function(){G.removeEvent(F,"keydown",this)})},_key:function(M){if(!this.enabled){return}var O=this.options.snap,I=O?this.currentPage.pageX:this.x,L=O?this.currentPage.pageY:this.y,J=G.getTime(),P=this.keyTime||0,K=0.25,N;if(this.options.useTransition&&this.isInTransition){N=this.getComputedPosition();this._translate(A.round(N.x),A.round(N.y));this.isInTransition=false}this.keyAcceleration=J-P<200?A.min(this.keyAcceleration+K,50):0;switch(M.keyCode){case this.options.keyBindings.pageUp:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){I+=O?1:this.wrapperWidth}else{L+=O?1:this.wrapperHeight}break;case this.options.keyBindings.pageDown:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){I-=O?1:this.wrapperWidth}else{L-=O?1:this.wrapperHeight}break;case this.options.keyBindings.end:I=O?this.pages.length-1:this.maxScrollX;L=O?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:I=0;L=0;break;case this.options.keyBindings.left:I+=O?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:L+=O?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:I-=O?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:L-=O?1:5+this.keyAcceleration>>0;break;default:return}if(O){this.goToPage(I,L);return}if(I>0){I=0;this.keyAcceleration=0}else{if(I<this.maxScrollX){I=this.maxScrollX;this.keyAcceleration=0}}if(L>0){L=0;this.keyAcceleration=0}else{if(L<this.maxScrollY){L=this.maxScrollY;this.keyAcceleration=0}}this.scrollTo(I,L,0);this.keyTime=J},_animate:function(K,L,R,O){var M=this,P=this.x,N=this.y,J=G.getTime(),I=J+R;function Q(){var V=G.getTime(),S,U,T;if(V>=I){M.isAnimating=false;M._translate(K,L);if(!M.resetPosition(M.options.bounceTime)){M._execEvent("scrollEnd")}return}V=(V-J)/R;T=O(V);S=(K-P)*T+P;U=(L-N)*T+N;M._translate(S,U);if(M.isAnimating){H(Q)}}this.isAnimating=true;Q()},handleEvent:function(I){switch(I.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(I);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(I);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(I);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(I);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(I);break;case"keydown":this._key(I);break;case"click":if(!I._constructed){I.preventDefault();I.stopPropagation()}break}}};function E(K,I,L){var M=C.createElement("div"),J=C.createElement("div");if(L===true){M.style.cssText="position:absolute;z-index:9999";J.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background: rgba(102, 51, 204, 0.298039);;border:1px solid rgba(255,255,255,0.9);border-radius:4px"}J.className="iScrollIndicator";if(K=="h"){if(L===true){M.style.cssText+=";height:7px;left:2px;right:2px;bottom:0";J.style.height="100%"}M.className="iScrollHorizontalScrollbar"}else{if(L===true){M.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px";J.style.width="50%"}M.className="iScrollVerticalScrollbar"}M.style.cssText+=";overflow:hidden";if(!I){M.style.pointerEvents="none"}M.appendChild(J);return M}function D(K,J){this.wrapper=typeof J.el=="string"?C.querySelector(J.el):J.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=K;this.options={listenX:true,listenY:true,interactive:false,resize:true,defaultScrollbars:false,shrink:false,fade:false,speedRatioX:0,speedRatioY:0};for(var I in J){this.options[I]=J[I]}this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;if(this.options.interactive){if(!this.options.disableTouch){G.addEvent(this.indicator,"touchstart",this);G.addEvent(F,"touchend",this)}if(!this.options.disablePointer){G.addEvent(this.indicator,G.prefixPointerEvent("pointerdown"),this);G.addEvent(F,G.prefixPointerEvent("pointerup"),this)}if(!this.options.disableMouse){G.addEvent(this.indicator,"mousedown",this);G.addEvent(F,"mouseup",this)}}if(this.options.fade){this.wrapperStyle[G.style.transform]=this.scroller.translateZ;this.wrapperStyle[G.style.transitionDuration]=G.isBadAndroid?"0.001s":"0ms";this.wrapperStyle.opacity="0"}}D.prototype={handleEvent:function(I){switch(I.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(I);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(I);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(I);break}},destroy:function(){if(this.options.interactive){G.removeEvent(this.indicator,"touchstart",this);G.removeEvent(this.indicator,G.prefixPointerEvent("pointerdown"),this);G.removeEvent(this.indicator,"mousedown",this);G.removeEvent(F,"touchmove",this);G.removeEvent(F,G.prefixPointerEvent("pointermove"),this);G.removeEvent(F,"mousemove",this);G.removeEvent(F,"touchend",this);G.removeEvent(F,G.prefixPointerEvent("pointerup"),this);G.removeEvent(F,"mouseup",this)}if(this.options.defaultScrollbars){this.wrapper.parentNode.removeChild(this.wrapper)}},_start:function(I){var J=I.touches?I.touches[0]:I;I.preventDefault();I.stopPropagation();this.transitionTime();this.initiated=true;this.moved=false;this.lastPointX=J.pageX;this.lastPointY=J.pageY;this.startTime=G.getTime();if(!this.options.disableTouch){G.addEvent(F,"touchmove",this)}if(!this.options.disablePointer){G.addEvent(F,G.prefixPointerEvent("pointermove"),this)}if(!this.options.disableMouse){G.addEvent(F,"mousemove",this)}this.scroller._execEvent("beforeScrollStart")},_move:function(N){var O=N.touches?N.touches[0]:N,L,J,I,M,K=G.getTime();if(!this.moved){this.scroller._execEvent("scrollStart")}this.moved=true;L=O.pageX-this.lastPointX;this.lastPointX=O.pageX;J=O.pageY-this.lastPointY;this.lastPointY=O.pageY;I=this.x+L;M=this.y+J;this._pos(I,M);N.preventDefault();N.stopPropagation()},_end:function(K){if(!this.initiated){return}this.initiated=false;K.preventDefault();K.stopPropagation();G.removeEvent(F,"touchmove",this);G.removeEvent(F,G.prefixPointerEvent("pointermove"),this);G.removeEvent(F,"mousemove",this);if(this.scroller.options.snap){var I=this.scroller._nearestSnap(this.scroller.x,this.scroller.y);var J=this.options.snapSpeed||A.max(A.max(A.min(A.abs(this.scroller.x-I.x),1000),A.min(A.abs(this.scroller.y-I.y),1000)),300);if(this.scroller.x!=I.x||this.scroller.y!=I.y){this.scroller.directionX=0;this.scroller.directionY=0;this.scroller.currentPage=I;this.scroller.scrollTo(I.x,I.y,J,this.scroller.options.bounceEasing)}}if(this.moved){this.scroller._execEvent("scrollEnd")}},transitionTime:function(I){I=I||0;this.indicatorStyle[G.style.transitionDuration]=I+"ms";if(!I&&G.isBadAndroid){this.indicatorStyle[G.style.transitionDuration]="0.001s"}},transitionTimingFunction:function(I){this.indicatorStyle[G.style.transitionTimingFunction]=I},refresh:function(){this.transitionTime();if(this.options.listenX&&!this.options.listenY){this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none"}else{if(this.options.listenY&&!this.options.listenX){this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none"}else{this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none"}}if(this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll){G.addClass(this.wrapper,"iScrollBothScrollbars");G.removeClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right="8px"}else{this.wrapper.style.bottom="8px"}}}else{G.removeClass(this.wrapper,"iScrollBothScrollbars");G.addClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right="2px"}else{this.wrapper.style.bottom="2px"}}}var I=this.wrapper.offsetHeight;if(this.options.listenX){this.wrapperWidth=this.wrapper.clientWidth;if(this.options.resize){this.indicatorWidth=A.max(A.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8);this.indicatorStyle.width=this.indicatorWidth+"px"}else{this.indicatorWidth=this.indicator.clientWidth}this.maxPosX=this.wrapperWidth-this.indicatorWidth;if(this.options.shrink=="clip"){this.minBoundaryX=-this.indicatorWidth+8;this.maxBoundaryX=this.wrapperWidth-8}else{this.minBoundaryX=0;this.maxBoundaryX=this.maxPosX}this.sizeRatioX=this.options.speedRatioX||(this.scroller.maxScrollX&&(this.maxPosX/this.scroller.maxScrollX))}if(this.options.listenY){this.wrapperHeight=this.wrapper.clientHeight;if(this.options.resize){this.indicatorHeight=A.max(A.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8);this.indicatorStyle.height=this.indicatorHeight+"px"}else{this.indicatorHeight=this.indicator.clientHeight}this.maxPosY=this.wrapperHeight-this.indicatorHeight;if(this.options.shrink=="clip"){this.minBoundaryY=-this.indicatorHeight+8;this.maxBoundaryY=this.wrapperHeight-8}else{this.minBoundaryY=0;this.maxBoundaryY=this.maxPosY}this.maxPosY=this.wrapperHeight-this.indicatorHeight;this.sizeRatioY=this.options.speedRatioY||(this.scroller.maxScrollY&&(this.maxPosY/this.scroller.maxScrollY))}this.updatePosition()},updatePosition:function(){var I=this.options.listenX&&A.round(this.sizeRatioX*this.scroller.x)||0,J=this.options.listenY&&A.round(this.sizeRatioY*this.scroller.y)||0;if(!this.options.ignoreBoundaries){if(I<this.minBoundaryX){if(this.options.shrink=="scale"){this.width=A.max(this.indicatorWidth+I,8);this.indicatorStyle.width=this.width+"px"}I=this.minBoundaryX}else{if(I>this.maxBoundaryX){if(this.options.shrink=="scale"){this.width=A.max(this.indicatorWidth-(I-this.maxPosX),8);this.indicatorStyle.width=this.width+"px";I=this.maxPosX+this.indicatorWidth-this.width}else{I=this.maxBoundaryX}}else{if(this.options.shrink=="scale"&&this.width!=this.indicatorWidth){this.width=this.indicatorWidth;this.indicatorStyle.width=this.width+"px"}}}if(J<this.minBoundaryY){if(this.options.shrink=="scale"){this.height=A.max(this.indicatorHeight+J*3,8);this.indicatorStyle.height=this.height+"px"}J=this.minBoundaryY}else{if(J>this.maxBoundaryY){if(this.options.shrink=="scale"){this.height=A.max(this.indicatorHeight-(J-this.maxPosY)*3,8);this.indicatorStyle.height=this.height+"px";J=this.maxPosY+this.indicatorHeight-this.height}else{J=this.maxBoundaryY}}else{if(this.options.shrink=="scale"&&this.height!=this.indicatorHeight){this.height=this.indicatorHeight;this.indicatorStyle.height=this.height+"px"}}}}this.x=I;this.y=J;if(this.scroller.options.useTransform){this.indicatorStyle[G.style.transform]="translate("+I+"px,"+J+"px)"+this.scroller.translateZ}else{this.indicatorStyle.left=I+"px";this.indicatorStyle.top=J+"px"}},_pos:function(I,J){if(I<0){I=0}else{if(I>this.maxPosX){I=this.maxPosX}}if(J<0){J=0}else{if(J>this.maxPosY){J=this.maxPosY}}I=this.options.listenX?A.round(I/this.sizeRatioX):this.scroller.x;J=this.options.listenY?A.round(J/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(I,J)},fade:function(K,L){if(L&&!this.visible){return}clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var J=K?250:500,I=K?0:300;K=K?"1":"0";this.wrapperStyle[G.style.transitionDuration]=J+"ms";this.fadeTimeout=setTimeout((function(M){this.wrapperStyle.opacity=M;this.visible=+M}).bind(this,K),I)}};B.utils=G;if(typeof module!="undefined"&&module.exports){module.exports=B}else{F.IScroll=B}})(window,document,Math);