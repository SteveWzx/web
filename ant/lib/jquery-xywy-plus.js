(function(d){d.extend({isIE6:function(){return !-[1]&&!window.XMLHttpRequest},cookie:function(g,l,j){var e={expires:1,domain:document.domain,path:"/"},f=d.extend(e,j),h=document.cookie.split("; "),m="",i=new Date();if(!arguments.length){return}fn={setCookie:function(n,o){i.setTime(i.getTime()+(f.expires*24*60*60*1000));m=encodeURIComponent(n)+"="+encodeURIComponent(o)+";expires="+i.toUTCString()+";domain="+f.domain+";path="+f.path;document.cookie=m},getCookie:function(n){d.each(h,function(o,p){if(decodeURIComponent(p.split("=")[0])===n){m=decodeURIComponent(p.split("=")[1])}});return m},removeCookie:function(n){this.setCookie(n,1,f.expires=-1)}};if(!/undefined/.test(typeof l)){if(/string|number/.test(typeof l)){fn.setCookie(g,l)}else{if(d.isPlainObject(l)){d.each(l,function(n,o){if(/expires/.test(n)&&o===-1){fn.removeCookie(g)}})}else{return}}}else{return fn.getCookie(g)}}});var b=["DOMMouseScroll","mousewheel"];if(d.event.fixHooks){for(var a=b.length;a;){d.event.fixHooks[b[--a]]=d.event.mouseHooks}}d.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var e=b.length;e;){this.addEventListener(b[--e],c,false)}}else{this.onmousewheel=c}},teardown:function(){if(this.removeEventListener){for(var e=b.length;e;){this.removeEventListener(b[--e],c,false)}}else{this.onmousewheel=null}}};function c(j){var h=j||window.event,g=[].slice.call(arguments,1),l=0,i=true,f=0,e=0;j=d.event.fix(h);j.type="mousewheel";if(h.wheelDelta){l=h.wheelDelta/120}if(h.detail){l=-h.detail/3}e=l;if(h.axis!==undefined&&h.axis===h.HORIZONTAL_AXIS){e=0;f=-1*l}if(h.wheelDeltaY!==undefined){e=h.wheelDeltaY/120}if(h.wheelDeltaX!==undefined){f=-1*h.wheelDeltaX/120}g.unshift(j,l,f,e);return(d.event.dispatch||d.event.handle).apply(this,g)}d.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)},tab:function(h){var e={type:"mouseover",triggerClass:"current",tab:"ul:first > li",panelClass:"panel",defaultPanel:0,asyn:{state:false,url:"a.php",type:"get",dataType:"json",data:[],error:function(){},success:function(j,i){}},slideTab:{trigger:".factor",sliding:false,vertical:false,speed:300},opacity:false,delay:200,operate:function(){}},g=null,f=d.extend(true,e,h);f.delay=f.type==="click"?0:f.delay;g=function(n){var m=n.length,l=0,j={};for(;l<m;l++){j[n[l].split("=")[0]]=n[l].split("=")[1]}return j};return this.each(function(t,o){var s=d(o).find(f.tab),r=d(o).find("."+f.panelClass),l,i=0,m="left",p={},n=null,q=null,j=null;l=f.opacity===true?600:0;f.slideTab.sliding===true?(f.slideTab.vertical===true?(i=s.eq(0).outerHeight(),m="top"):i=s.eq(0).outerWidth()):0;n=function(u){p[m]=i*u;return p};q=function(y){var w=f.asyn.data,v=w[y],x="",u={};s.eq(f.defaultPanel).attr("data-j-tab",1);s.eq(y).addClass(f.triggerClass).siblings().removeClass(f.triggerClass);d(o).find(f.slideTab.trigger).animate(n(y),f.slideTab.speed);if(f.asyn.state===true&&s.eq(y).attr("data-j-tab")!=="1"&&v!==0){x=f.asyn.url.split(",").length===1?f.asyn.url.split(",")[0]:f.asyn.url.split(",")[y];u=v.indexOf("&")>-1?g(v.split("&")):g(v.split());d.ajax({url:x,type:f.asyn.type,data:u,dataType:f.asyn.dataType,error:function(){f.asyn.error(r.eq(y))},success:function(z){s.eq(y).attr("data-j-tab",1);f.asyn.success(r.eq(y),z)}})}r.eq(y).fadeIn(l).siblings("."+f.panelClass).hide();f.operate(y)};q(f.defaultPanel);s.bind(f.type,function(){var u=d(this).index();clearTimeout(j);j=setTimeout(function(){q(u)},f.delay)});s.mouseout(function(){clearTimeout(j);j=null})})},_slide:function(h){var e={animate:false,vertical:false,leftButton:".left_button",rightButton:".right_button",trigger:false,triggerClass:"current",type:"mouseover",dataAttr:"title",dataPanel:".text",auto:true,speed:300,time:3000},g=d.extend(e,h),f=200;f=g.type==="click"?0:f;return this.each(function(x,r){var i=d(r).find("ul:first"),s=d(r).find("ul:first > li"),v=d(r).find("ul:last > li"),u=d(r).find("img"),n=s.length,l=null,w=null,y=s.eq(0).height(),p="top",q=1,t=0,j=0;if(g.trigger===true){var m=d(r).find("ul:last");s.each(function(o){if(!o){m.append(d("<li>").text(1).addClass(g.triggerClass))}else{m.append(d("<li>"+(o+1)+"</li>"))}});v=m.children()}if(g.leftButton&&g.rightButton){d(document).on({click:function(o){var z=d(o.target);w.clearTimer();if(z.closest(g.leftButton).length>0&&q){q=0;t===0?w.moveTo(t=n-1):w.moveTo(--t)}else{if(z.closest(g.rightButton).length>0&&q){q=0;t===n-1?w.moveTo(t=0):w.moveTo(++t)}}},mouseout:function(){w.auto()}},g.leftButton+","+g.rightButton)}w={moveTo:function(o){t=o;j=-o*y;v.eq(o).addClass(g.triggerClass).siblings().removeClass(g.triggerClass);d(g.dataPanel).html(u.eq(o).attr(g.dataAttr));if(g.animate===true){this.anim()}else{i.css(p,j)}},anim:function(){var o={};o[p]=j;i.animate(o,g.speed,function(){q=1})},auto:function(){var o=this;this.clearTimer();l=setInterval(function(){t===n-1?t=0:t++;o.moveTo(t)},g.time)},start:function(){this.clearTimer();if(g.auto===true){this.auto()}},clearTimer:function(){clearTimeout(l);clearInterval(l);l=null}};v.bind(g.type,function(){var o=d(this).index();w.clearTimer();l=setTimeout(function(){w.moveTo(o)},f)});v.mouseout(function(){w.start()});s.bind({mouseover:function(){w.clearTimer()},mouseout:function(){w.start()}});if(g.animate===true){if(g.vertical!==true){p="left";y=s.eq(0).width();i.css("width",n*y)}}w.start()})},slide:function(h){var e={animate:false,opacity:false,vertical:false,leftButton:".left_button",rightButton:".right_button",trigger:false,loop:false,triggerClass:"current",type:"mouseover",dataAttr:"title",dataPanel:".text",auto:true,speed:300,time:3000},g=d.extend(e,h),f=200;f=g.type==="click"?0:f;if(g.loop===false){return this._slide(g)}return this.each(function(B,r){var x=d(r).find("ul:first"),t=d(r).find("ul:first > li"),A=d(r).find("ul:last > li"),y=d(r).find("img"),i=k=t.length,q=null,m=null,s=t.eq(0).height(),v="top",w={},z={},n=1,l=0,p=0,j=0;if(g.trigger===true){var u=d(r).find("ul:last");t.each(function(o){if(!o){u.append(d("<li>").text(1).addClass(g.triggerClass))}else{u.append(d("<li>"+(o+1)+"</li>"))}});A=u.children()}if(g.opacity===true){g.animate=false;t.each(function(o,C){d(C).css({position:"absolute",zIndex:k--});if(o){d(C).css("opacity",0);w.opacity=0;z.opacity=1}})}if(g.animate===true){t.first().clone().addClass("first-clone").appendTo(x).end().end().last().clone().addClass("last-clone").prependTo(x);if(g.vertical===false){v="left";s=t.eq(0).width();x.css("width",(i+2)*s).css(v,-s)}else{x.css("height",(i+2)*s).css(v,-s)}}if(g.leftButton&&g.rightButton){d(document).on({click:function(o){var C=d(o.target);m.clearTimer();if(C.closest(g.leftButton).length>0&&n){n=0;m.moveTo(--l)}else{if(C.closest(g.rightButton).length>0&&n){n=0;m.moveTo(++l)}}},mouseout:function(){m.start()}},g.leftButton+","+g.rightButton)}m={moveTo:function(o){l=o;if(g.animate===true){j=-(l+1)*s;o=(l===i?0:(l<0?i-1:o));this.anim()}else{if(g.opacity===true){o=l>i-1?0:l;this.setOpacity()}else{o=l=(l>i-1?0:(l<0?i-1:o));j=-o*s;x.css(v,j);n=1}}A.eq(o).addClass(g.triggerClass).siblings().removeClass(g.triggerClass);d(g.dataPanel).html(y.eq(o).attr(g.dataAttr))},anim:function(){var o={};o[v]=j;x.animate(o,g.speed,function(){n=1;if(l===i){l=0;x.css(v,-s)}else{if(l<0){l=i-1;x.css(v,-i*s)}}})},setOpacity:function(){var o=p;if(l>=i){l=0}else{if(l<0){l=i-1}}p=l;if(o!==p){t.eq(o).css({zIndex:1}).animate(w,g.speed,function(){n=1});t.eq(p).css({position:"absolute",zIndex:i}).animate(z,g.speed)}},auto:function(){var o=this;this.clearTimer();q=setInterval(function(){l===(g.animate===true?i:i-1)?l=0:l++;o.moveTo(l)},g.time)},start:function(){this.clearTimer();if(g.auto===true){this.auto()}},clearTimer:function(){clearTimeout(q);clearInterval(q);q=null}};A.bind(g.type,function(){var o=d(this).index();m.clearTimer();q=setTimeout(function(){m.moveTo(o)},f)});A.mouseout(function(){m.start()});t.bind({mouseover:function(){m.clearTimer()},mouseout:function(){m.start()}});m.start()})},loopScroll:function(g){var e={amount:1,speed:300,time:3000,leftButton:".roll_lbtn",rightButton:".roll_rbtn",operate:function(){},vertical:false,auto:true},f=d.extend(e,g);return this.each(function(u,o){var v=d(o).find("ul:first"),x=d(o).find("li"),j=x.length,t=f.vertical===true?"height":"width",p=0,s=1,y=1,q,n,m,h,w,l,r,i;d(o).css(t,9999);if(f.vertical===true){h=v.innerHeight();l="top";w=d(o).parent().height()}else{h=v.innerWidth();l="left";w=d(o).parent().width()}m=parseInt(h/j)*f.amount;n=parseInt(h/m);if(h<=w){return}v.clone(true).insertAfter(v);r={clearTimer:function(){clearInterval(i);i=null},moveTo:function(z){if(z>n){p=z=1;d(o).css(l,0)}else{if(z<0){p=z=n-1;d(o).css(l,-m*n)}}q=-m*z;this.anim()},anim:function(){var z={};z[l]=q;d(o).animate(z,f.speed,function(){s=y=1;f.operate(p,n)})},auto:function(){var z=this;i=setInterval(function(){z.moveTo(++p)},f.time)},start:function(){this.clearTimer();if(f.auto===true){this.auto()}}};d(o).bind({mouseover:function(){r.clearTimer()},mouseout:function(){r.start()}});d(document).on({click:function(z){var A=d(z.target);if(A.closest(f.leftButton).length>0){if(s){s=0;r.moveTo(--p)}}else{if(A.closest(f.rightButton).length>0){if(y){y=0;r.moveTo(++p)}}}r.clearTimer()},mouseover:function(){r.clearTimer()},mouseout:function(){r.start()}},f.leftButton+","+f.rightButton);r.start()})},textScroll:function(h){var f={panel:"li:first",time:3000,speed:600,vertical:true},g=d.extend(f,h),j=d.isIE6();if(j){try{document.execCommand("BackgroundImageCache",false,true)}catch(i){}}return this.each(function(q,o){var e=null,s=d(o).find(g.panel),r=s.outerHeight(),l=s.outerWidth(),m=s.siblings().andSelf().length,p,n={};if(g.vertical===true){if(r*m<=d(o).outerHeight()){return false}else{p="marginTop";n[p]=-s.outerHeight()}}else{if(l*m<=d(o).outerWidth()){return false}else{p="marginLeft";n[p]=-s.outerWidth()}}d(o).hover(function(){clearInterval(e)},function(){e=setInterval(function(){var t=d(o).find(g.panel);t.animate(n,g.speed,function(){t.css(p,0).appendTo(s.parent())})},g.time)}).trigger("mouseleave")})},smartShow:function(g){var e={url:"a.php",panel:".smart-item",param:"key",dataWrap:"li",dataType:"json",wrapClass:"current",success:function(){},operate:function(){}},f=d.extend(e,g);return this.each(function(q,m){var j=d(f.panel),p={},r,n=null,l=null,i=false,h=navigator.userAgent.indexOf("Chrome"),o=-1;d(m).attr("data-smart",true);d(f.panel).attr("data-smartpanel",true);n=function(s){d.ajax({type:"get",url:f.url,data:f.param+"="+s,dataType:f.dataType,success:function(u){if(u){f.success(u);i=true;o=-1;var t=d(f.panel).children();if(t.length){t.bind({mouseover:function(){o=d(this).index();d(this).addClass(f.wrapClass).siblings().removeClass(f.wrapClass)},click:function(){d(m).val(d(this).html().replace(/<[^>]+>/g,""));d(f.panel).hide();i=false;f.operate(o,d(this).html())}})}}}})};l=function(s){(r!=s&&s!="")?n(s):0};d(m).bind({keydown:function(){r=d(m).val()},keyup:function(v){var u=j.find(f.dataWrap),x=v.keyCode,w=d.trim(d(m).val()),s={},t=u.length;s={moveTo:function(y){if(y<0){o=y=t-1}if(y>t-1){o=y=0}u.eq(y).addClass(f.wrapClass).siblings().removeClass(f.wrapClass);d(m).val(u.eq(y).html().replace(/<[^>]+>/g,""))}};if(x===38){if(!i){return}s.moveTo(--o);return false}else{if(x===40){if(!i){return}s.moveTo(++o);return false}else{if(x===13){i=false;l(w);f.operate(o,u.eq(o).html().replace(/<[^>]+>/g,""));return false}}}if(w==""){d(f.panel).html("").hide();i=false}l(w)},focus:function(){var s=d.trim(d(m).val());l(s)}});if(h){d(m).bind("input",function(){var s=d.trim(d(m).val());l(s)})}d(document).bind("click",function(s){var t=d(s.target);if(t.attr("data-smart")!="true"&&t.parent().attr("data-smartpanel")!="true"){d(f.panel).hide();i=false;o=-1}})})},toPlace:function(f,j){var e={top:100,bottom:100,animate:false,speed:0},h=d.extend(e,j),g=d(window).height(),i=d(document).height();return this.each(function(l,n){var o=h.animate===true?"slow":0,m={back:function(){var p;p=f==="top"?0:i;d("body, html").animate({scrollTop:p},h.speed)},roll:function(p){d(window).bind("scroll",function(){var r=d(this).scrollTop(),q=r+g;if(p==="top"){if(r>h.top){d(n).fadeIn(o)}else{if(r<50){d(n).fadeOut(o)}}}else{if(i-q>h.bottom){d(n).fadeIn(o)}else{if(i-q<50){d(n).fadeOut(o)}}}})}};d(n).bind("click",function(){m.back()});if(f==="top"){m.roll(f)}else{if(f==="bottom"){m.roll(f)}}})},loopSlide:function(h){var e={vertical:false,opacity:false,trigger:false,leftButton:".left_button",rightButton:".right_button",triggerClass:"current",type:"mouseover",dataAttr:"title",dataPanel:".text",auto:true,speed:400,time:3000,operate:function(){}},g=d.extend(e,h),f=200;f=g.type==="click"?0:f;return this.each(function(A,s){var t=d(s).children().eq(0).children(),u=t.eq(0),y=d(s).children().eq(1).children(),x=d(s).find("img"),n=t.length,l=null,r={},w={},z=null,p="left",q=1,j=0,v=0,i=0;if(g.trigger===true){var m=d(s).find("ul:last");t.each(function(o){if(!o){m.append(d("<li>").text(1).addClass(g.triggerClass))}else{m.append(d("<li>"+(o+1)+"</li>"))}});y=m.children()}if(g.vertical===true){i=u.height();p="top"}else{i=u.width()}if(g.leftButton&&g.rightButton){d(document).on({click:function(o){var B=d(o.target);z.clearTimer();if(B.closest(g.leftButton).length>0&&q){q=0;v===0?z.moveTo(v=n-1):z.moveTo(--v)}else{if(B.closest(g.rightButton).length>0&&q){q=0;v===n-1?z.moveTo(v=0):z.moveTo(++v)}}},mouseout:function(){z.auto()}},g.leftButton+","+g.rightButton)}t.each(function(o,B){if(o){if(g.opacity!==true){d(B).css("position","absolute").css(p,i);r[p]=-i;w[p]=0}else{d(B).css("opacity",0);r.opacity=0;w.opacity=1}}});z={clearTimer:function(){clearTimeout(l);clearInterval(l);l=null},moveTo:function(o){v=o;y.eq(o).addClass(g.triggerClass).siblings().removeClass(g.triggerClass);d(g.dataPanel).html(x.eq(o).attr(g.dataAttr));this.anim()},anim:function(){var o=j;if(v>=n-1){j=n-1}else{j=v}if(o!==j){t.eq(o).css({zIndex:1}).animate(r,g.speed,function(){q=1;if(g.opacity!==true){t.eq(o).css(p,i)}});t.eq(j).css({position:"absolute",zIndex:2}).animate(w,g.speed,function(){g.operate(j,n)})}},start:function(){z.clearTimer();if(g.auto===true){this.auto()}},auto:function(){var o=this;this.clearTimer();l=setInterval(function(){v>=n-1?v=0:v++;o.moveTo(v)},g.time)}};y.bind(g.type,function(){var o=d(this).index();z.clearTimer();l=setTimeout(function(){z.moveTo(o)},f)});y.mouseout(function(){z.start()});t.bind({mouseover:function(){z.clearTimer()},mouseout:function(){z.start()}});z.start()})},dialog:function(f){var i={title:"¶Ô»°¿ò",content:"hello world !",container:".dialog-bd",close:".dialog-close",confirm:".dialog-confirm",cancel:".dialog-cancel",opacity:0.1,operate:function(){},animate:false,mask:true},r=d.extend(i,f);this.find(r.container).html(r.content);var s=d(document).height(),o=this.height(),g=this.width(),n=d(document).scrollTop()+d(window).height()/2-o/2,h=d(document).width()/2-g/2,l={position:"absolute",top:0,left:0,width:"100%",height:s,backgroundColor:"#000",opacity:0,filter:"alpha(opacity="+r.opacity*100+")",zIndex:100000000},e={display:"block",position:"absolute",top:n-30,left:h,overflow:"hidden",zIndex:100000001},m=null,p=this,j="tinkerMask"+(+new Date()),q=d('<div id="'+j+'">');m={showMask:function(){q.appendTo(d("body")).css(l)},anim:function(u,t){q.animate({opacity:t},500);p.animate({top:u,opacity:1},400,"linear")},showDialog:function(){p.css(e);if(r.animate===true){if(r.mask===true){this.showMask();this.anim(n,r.opacity)}else{this.anim(n)}}else{if(r.mask===true){l.opacity=r.opacity;this.showMask();p.css("top",n)}else{p.css("top",n)}}},closeDialog:function(u){var t=function(){if(u){r.operate(j)}};if(r.animate===true){p.animate({top:e.top,opacity:0},600,function(){p.css({display:"none"});t()});d("#"+j).animate({opacity:0},200,function(){d("#"+j).remove()})}else{p.hide();d("#"+j).remove();t()}}};m.showDialog();this.drag({operate:function(t){e.top=t.top-30}});this.bind("click",function(u){var w=d(u.target),v=w.hasClass(r.close.slice(1))||r.close.slice(1)===w.attr("id")||w.hasClass(r.cancel.slice(1))||r.cancel.slice(1)===w.attr("id"),t=w.hasClass(r.confirm.slice(1))||r.confirm.slice(1)===w.attr("id");if(v){m.closeDialog();p.unbind("click")}else{if(t){m.closeDialog(r.operate);p.unbind("click")}}})},drag:function(g){var e={parent:true,operate:undefined},f=d.extend(e,g);return this.each(function(p,j){var s=d(j).height(),l=d(j).width(),o=d(j).offsetParent(),i,n={top:0,left:0},h,r,q,m;d(j).css({position:"absolute"});if(o.css("position").toLowerCase()==="relative"||o.css("position").toLowerCase()==="absolute"){h=o.width();r=o.height()}else{h=d(window).width();r=d(document).height()}q=h-l-2;m=r-s-2;i=f.parent===true?d(j).children().eq(0):d(j);i.bind("mousedown",function(w){var v=f.parent===true?d(this).parent():d(this),y=v.position().left,x=v.position().top,z=w.pageX-y,u=w.pageY-x,t=0;if(v.get(0).setCapture){v.get(0).setCapture()}d(document).bind({mousemove:function(A){var C=A.pageX-z,B=A.pageY-u;t=1;if(C<0){C=0}if(C>=q){C=q}if(B<0){B=0}if(B>=m){B=m}n.left=C;n.top=B;d(j).css({top:B,left:C})},mouseup:function(){if(d(j).get(0).releaseCapture){d(j).get(0).releaseCapture()}d(this).unbind("mousemove mouseup");if(typeof f.operate=="function"&&t){f.operate({top:n.top,left:n.left})}}});return false})})},monitor:function(h,g){var e={dirWrap:".catalog",listWrap:"li",triggerClass:"current",opacity:false,disTop:{minTop:0,maxTop:9999},topDiff:0,speed:400,animate:true},f=d.extend(true,e,g);f.speed=f.animate===true?f.speed:0;return this.each(function(t,o){var q=d(o).find(h),m=d(f.dirWrap).find(f.listWrap),s=[],i=0,j=0,l=1,p=null,r=null,n=null;d.each(q,function(u,w){var v=Math.ceil(d(w).offset().top)-f.topDiff;s[u]=v;m.eq(u).data("dataTop",v)});i=s.length;j=f.opacity===true?400:0;r=function(v){var u=parseInt(v.data("dataTop"));d("body, html").animate({scrollTop:u},f.speed,function(){l=1})};n=function(){var u=p,v=0,w=d(window).scrollTop();if(w>=s[i-1]){p=m.eq(i-1)}else{for(;v<i-1;v++){if(w>=s[v]&&w<s[v+1]){p=m.eq(v);break}}}if(w<f.disTop.minTop||w>f.disTop.maxTop){d(f.dirWrap).hide()}else{d(f.dirWrap).fadeIn(j)}if(u!==p){if(u){u.removeClass(f.triggerClass)}p.addClass(f.triggerClass)}};d(f.dirWrap).bind("click",function(v){var u=d(v.target).closest(f.listWrap);if(l&&!d.isEmptyObject(u.get(0))){l=0;r(u)}});d(window).bind("scroll",n)})},scrollBar:function(g){var e={content:".conBox",bar:".bar",preButton:".prebtn",nextButton:".nextbtn",vertical:true},f=d.extend(e,g);return this.each(function(y,o){var p=d(o).find(f.content),s=d(o).find(f.bar),m=d(o).find(f.preButton),i=d(o).find(f.nextButton),w=s.offsetParent(),r=p.offsetParent(),x=p.width()-r.width(),v=p.height()-r.height(),n,h,l="left",t="width",q,j,u=null;if(f.vertical===true){n=v;l="top";t="height",q=r.height()/p.height();j=Math.max(20,w.height()*q)}else{n=x;q=r.width()/p.width();j=Math.max(20,w.width()*q)}if(q>=1){w.parent().hide();return false}s.css(t,j);if(f.vertical===true){h=w.height()-s.height()}else{h=w.width()-s.width()}u={scrollPos:function(C){var A,z={},B={};if(C<0){C=0}if(C>=h){C=h}z[l]=C;s.css(z);q=C/h;A=-q*n;B[l]=A;p.css(B)}};s.bind("mousedown",function(A){var C=d(this).position().left,B=d(this).position().top,D=A.clientX-C,z=A.clientY-B;if(d(this).get(0).setCapture){d(this).get(0).setCapture()}d(document).bind({mousemove:function(F){var H=F.clientX-D,G=F.clientY-z,E;E=f.vertical===true?G:H;u.scrollPos(E)},mouseup:function(){if(s.get(0).releaseCapture){s.get(0).releaseCapture()}d(this).unbind("mousemove mouseup")}});return false});m.click(function(){var z=s.position()[l];u.scrollPos(z-10)});i.click(function(){var z=s.position()[l];u.scrollPos(z+10)});d(o).mousewheel(function(z,B){var A=s.position()[l];B>0?u.scrollPos(A-10):u.scrollPos(A+10);z.preventDefault()})})},photoAlbum:function(g){var e={photoPanel:".photo-origin",dataPanel:".photo-info",preButton:[".curPrevBtn",".prevBtn"],nextButton:[".curNextBtn",".nextBtn"],vertical:false,holdPage:false,mouseWheel:false,animate:{opacity:false,speed:400},dataAttr:"data-origin",numPanel:".number",totalPanel:".total",triggerClass:"current",pages:{pagePanel:".photo-page",numTag:"a",triggerClass:"current-page"},operate:function(){}},f=d.extend(true,e,g);return this.each(function(G,u){var w=d(u).find("ul:first"),h=w.find("li"),m=w.parent(),o=h.length,D=d(f.photoPanel).parent().width(),y=d(f.photoPanel).parent().height(),v=0,r=0,q=0,F=0,t=0,i=0,A=0,B=1,l="",z="left",j=[],E=null,p=null,C=null,n=null,s=null;q=A=f.holdPage===true?(isNaN(location.hash.slice(3))||d.trim(location.hash.slice(3))===""?0:parseInt(location.hash.slice(3))):0;C=function(x){f.animate.opacity===true?d(x).css("opacity",0):0};p=function(x){location.href=location.hash===""?"#p="+x:location.href.replace(location.hash,"#p="+x);C(j[x]);E=d.parseJSON(h.eq(x).attr(f.dataAttr));d(f.photoPanel).children("img").remove().end().prepend(j[x]).children("img").animate({opacity:1},f.animate.speed);d(f.dataPanel).html(E.data)};if(f.vertical===true){z="top";r=h.eq(0).outerHeight(true);v=m.height();w.height(o*r)}else{r=h.eq(0).outerWidth(true);v=m.width();w.width(o*r)}i=Math.ceil(v/r);t=i-3;d.each(h,function(H,J){var x=new Image(),I=null;I=d.parseJSON(d(J).attr(f.dataAttr));x.src=I.src;if(x.complete){if(x.width>D){x.width=D}if(x.height>y){x.height=y}}else{x.onload=function(){if(x.width>D){x.width=D}if(x.height>y){x.height=y}x.onload=null}}C(x);j[H]=x});p(A);h.eq(0).addClass(f.triggerClass);d(f.totalPanel).html(o);if(f.pages.numTag==="a"){d.each(h,function(H,x){l+='<a href="javascript:;">'+(H+1)+"</a>"})}else{d.each(h,function(H,x){l+="<"+f.pages.numTag+">"+(H+1)+"</"+f.pages.numTag+">"})}d(f.pages.pagePanel).append(l).find(f.pages.numTag).bind("click",function(){var x=d(this).index();s.moveTo(q=x)}).eq(0).addClass(f.pages.triggerClass);n=d(f.pages.pagePanel).find(f.pages.numTag);s={moveTo:function(H){var x=r*o;f.operate(q,o);if(q>=o||q<0){B=1;q=q>=o-1?o-1:0;return false}p(H);d(f.numPanel).html(H+1);h.eq(H).addClass(f.triggerClass).siblings().removeClass(f.triggerClass);n.eq(H).addClass(f.pages.triggerClass).siblings().removeClass(f.pages.triggerClass);if(H<=Math.ceil(i/2)||x<=v){F=0}else{if(H===o-1){F=-(H-(t+2))*r}else{if(H===o-2){F=-(H-(t+1))*r}else{F=-(H-t)*r}}}this.anim(F)},anim:function(H){var x={};x[z]=H;w.animate(x,300,function(){B=1})}};s.moveTo(A);h.bind("click",function(){var x=d(this).index();if(B){B=0;s.moveTo(q=x)}});d.each(d.merge(f.preButton,f.nextButton),function(x,H){if(x===0||x===1){d(H).bind("click",function(){if(B){B=0;s.moveTo(--q)}})}else{d(H).bind("click",function(){if(B){B=0;s.moveTo(++q)}})}if(f.mouseWheel===true){d(H).parent().mousewheel(function(I,J){if(B){B=0;J>0?s.moveTo(--q):s.moveTo(++q);I.preventDefault()}})}})})},checkValue:function(g){var e={defaultValue:[],focusCss:{},blurCss:{}},f;f=d.extend(true,e,g);return this.each(function(i,j){var h=f.defaultValue.length?d.trim(f.defaultValue[i]):d.trim(d(this).val());d(j).attr("data-j-vid",0);d(j).bind({keyup:function(){d(this).attr("data-j-vid",1)},focus:function(){var l=d.trim(d(this).val());if(l===h&&d(this).attr("data-j-vid")==="0"){d(this).val("")}if(!d.isEmptyObject(f.focusCss)){d(j).css(f.focusCss)}},blur:function(){var l=d.trim(d(this).val());if(l===""){d(this).val(h).attr("data-j-vid",0)}if(!d.isEmptyObject(f.blurCss)){d(j).css(f.blurCss)}}})})}})})(jQuery);
