<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>无标题文档</title>
<script>
window.onload = function() {
	
	var oMyFrame = document.getElementById('myframe');
	var oBtn = document.getElementById('btn');
	
	/*
	postMessage
	postMessage(发送的内容，接收内容的域);
	*/
	
	oBtn.onclick = function() {
		//alert(window.postMessage);
		//oMyFrame.contentWindow.postMessage('hello', 'http://www.b.com');
		
		oMyFrame.contentWindow.postMessage('red', 'http://www.b.com');
		
	};
	
	window.onmessage = function(ev) {
		console.log('我接收到了b.com的反馈 : ' + ev.data);
	}
	
}
</script>
</head>

<body>
	<iframe src="http://www.b.com/2.postmessage.html" id="myframe"></iframe>
    <input type="button" id="btn" value="改变http://www.b.com/2.postmessage.html的背景颜色" />
</body>
</html>
